<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificates - DevOps IT Center</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/lucide.min.css" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <!-- Add FontAwesome for navbar icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    <!-- Custom css link -->
    <link rel="stylesheet" href="../src/components/styles/style.css">
    <!-- New certificates specific styles -->
    <link rel="stylesheet" href="../src/components/styles/certificates.css">
</head> 
<body>
<div id="app">
    <!-- Navbar Component -->
    <app-navbar></app-navbar>

    <div class="certificates-container">
        <!-- Background Effects -->
        <div class="bg-effects">
            <div class="bg-circle bg-circle-1"></div>
            <div class="bg-circle bg-circle-2"></div>
            <div class="bg-circle bg-circle-3"></div>
        </div>

        <div class="content-wrapper">
            <!-- Main Title -->
            <div class="main-title">
                <h1 class="title-primary">
                    BITIRUV SERTIFIKATINGIZNI
                </h1>
                <h2 class="title-secondary">
                    TEKSHIRISH VA YUKLAB OLISH UCHUN
                </h2>
            </div>

            <!-- Quick Search -->
            <div class="quick-search-section">
                <div class="search-card">
                    <form @submit.prevent="quickSearch" class="search-form">
                        <div class="search-input-wrapper">
                            <input
                                id="search"
                                v-model="searchQuery"
                                type="text"
                                placeholder="Familiyangiz yoki ismingizni yozing"
                                class="search-input"
                            />
                        </div>
                        <button
                            type="submit"
                            :disabled="loading"
                            class="search-btn"
                        >
                            <div v-if="loading" class="loading-spinner"></div>
                            <template v-else>
                                <i data-lucide="search" class="btn-icon"></i>
                                <span>Sertifikatni qidirish</span>
                            </template>
                        </button>
                    </form>
                </div>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <div class="content-grid">
                    <!-- Search Form -->
                    <div class="form-section">
                        <div class="form-card">
                            <h3 class="form-title">
                                <i data-lucide="user" class="form-icon"></i>
                                <span>Bitiruvchi ma'lumotlari</span>
                            </h3>

                            <form @submit.prevent="searchCertificates" class="certificate-form">
                                <div class="form-group">
                                    <label class="form-label">Familyasi:</label>
                                    <input
                                        v-model="formData.familiya"
                                        type="text"
                                        placeholder="Ravshanov"
                                        class="form-input"
                                        disabled
                                    />
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Ismi:</label>
                                    <input
                                        v-model="formData.ism"
                                        type="text"
                                        placeholder="Islombek"
                                        class="form-input"
                                        disabled
                                    />
                                </div>

                                <div class="form-group">
                                    <label class="form-label">ID raqami:</label>
                                    <div class="input-with-icon">
                                        <i data-lucide="hash" class="input-icon"></i>
                                        <input
                                            v-model="formData.idRaqami"
                                            type="text"
                                            placeholder="DIC000001"
                                            class="form-input with-icon"
                                            disabled
                                        />
                                    </div>
                                </div>

                                <div class="info-box">
                                    <p class="info-text">
                                        <i data-lucide="info" class="info-icon"></i>
                                        <span>Sertifikatni PDF formatda yuklab olishingiz mumkin</span>
                                    </p>
                                </div>

                                <button
                                    type="submit"
                                    :disabled="loading"
                                    class="submit-btn"
                                >
                                    <i data-lucide="download" class="btn-icon"></i>
                                    <span>{{ loading ? 'Qidirilmoqda...' : 'Yuklab olish' }}</span>
                                </button>
                            </form>
                        </div>
                    </div>

                    <!-- PDF Viewer -->
                    <div class="pdf-section">
                        <div class="pdf-card">
                            <div v-if="selectedCertificate" class="pdf-viewer">
                                <div class="pdf-header">
                                    <h3 class="pdf-title">{{ selectedCertificate.fullName }} - Sertifikat</h3>
                                    <div class="pdf-actions">
                                        <button @click="downloadCertificate(selectedCertificate)" class="pdf-download-btn">
                                            <i data-lucide="download" class="btn-icon"></i>
                                            PDF yuklab olish
                                        </button>
                                        <button @click="viewFullscreen(selectedCertificate)" class="pdf-view-btn">
                                            <i data-lucide="maximize" class="btn-icon"></i>
                                            To'liq ko'rish
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="pdf-placeholder">
                                    <div class="pdf-icon-wrapper">
                                        <i data-lucide="file-text" class="pdf-icon"></i>
                                    </div>
                                    <h4 class="pdf-placeholder-title">{{ selectedCertificate.fullName }}</h4>
                                    <p class="pdf-placeholder-subtitle">{{ selectedCertificate.course }}</p>
                                    <div class="pdf-details">
                                        <div class="pdf-detail">
                                            <span class="detail-label">ID:</span>
                                            <span class="detail-value">{{ selectedCertificate.id }}</span>
                                        </div>
                                        <div class="pdf-detail">
                                            <span class="detail-label">Soat:</span>
                                            <span class="detail-value">{{ selectedCertificate.hours }} soat</span>
                                        </div>
                                        <div class="pdf-detail">
                                            <span class="detail-label">Yil:</span>
                                            <span class="detail-value">{{ selectedCertificate.year }}</span>
                                        </div>
                                        <div class="pdf-detail">
                                            <span class="detail-label">Berilgan:</span>
                                            <span class="detail-value">{{ selectedCertificate.issueDate }}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div v-else class="pdf-empty">
                                <i data-lucide="file-search" class="empty-icon"></i>
                                <p class="empty-title">Ma'lumotlarni kiriting</p>
                                <p class="empty-subtitle">Sertifikat PDF fayli shu yerda ko'rinadi</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Section -->
            <div v-if="certificates.length > 0" class="results-section">
                <h3 class="results-title">Topilgan sertifikatlar</h3>
                <div class="results-grid">
                    <div
                        v-for="cert in certificates"
                        :key="cert.id"
                        @click="selectCertificate(cert)"
                        class="result-card"
                        :class="{ 'active': selectedCertificate && selectedCertificate.id === cert.id }"
                    >
                        <div class="result-header">
                            <div class="result-id">
                                <i data-lucide="award" class="result-icon"></i>
                                <span class="id-text">{{ cert.id }}</span>
                            </div>
                            <button @click.stop="downloadCertificate(cert)" class="result-download">
                                <i data-lucide="download" class="download-icon"></i>
                            </button>
                        </div>

                        <h4 class="result-name">{{ cert.fullName }}</h4>
                        <p class="result-course">{{ cert.course }}</p>
                        <p class="result-meta">{{ cert.hours }} soat • {{ cert.year }}</p>

                        <div class="result-footer">
                            <p class="result-date">
                                <i data-lucide="calendar" class="date-icon"></i>
                                <span>Berilgan: {{ cert.issueDate }}</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const { createApp } = Vue;

    // Define the navbar component
    const AppNavbar = {
        template: `
                <nav class="navbar" id="navbar">
                    <div class="nav-container">
                        <!-- Logo -->
                        <div class="logo-section">
                            <a href="../index.html" class="logo">
                                <img src="../public/assets/logos/logo-textright__green-white.png" width="110" alt="DevOps">
                            </a>
                        </div>

                        <!-- Navigation Menu -->
                        <div class="nav-menu">
                            <!-- Kurslar Dropdown -->
                            <div class="nav-item dropdown" @mouseenter="showDropdown('kurslar')" @mouseleave="hideDropdown('kurslar')">
                                <button class="nav-link">
                                    Kurslar
                                    <svg class="dropdown-icon" :class="{ 'rotate': activeDropdown === 'kurslar' }" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                                    </svg>
                                </button>

                                <transition name="dropdown">
                                    <div v-if="activeDropdown === 'kurslar'" class="dropdown-menu">
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-desktop"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">Kompytuer Savodxonligi</div>
                                                <div class="item-desc">2 oy davom etadi</div>
                                            </div>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-award"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">Malaka Oshirish (Soha xodimlari)</div>
                                                <div class="item-desc">1 oy davom etadi</div>
                                            </div>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-book-open"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">Foundation (ITga kirish)</div>
                                                <div class="item-desc">1 oy davom etadi</div>
                                            </div>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-laptop-code"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">Front-End Dasturlash</div>
                                                <div class="item-desc">8 oy davom etadi</div>
                                            </div>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-pen-nib"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">Grafik va Web dizayn</div>
                                                <div class="item-desc">6 oy davom etadi</div>
                                            </div>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-cube"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">3D Modeling (3D Max, AutoCad)</div>
                                                <div class="item-desc">6 oy davom etadi</div>
                                            </div>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-mobile"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">SMM + Mobilografiya</div>
                                                <div class="item-desc">3 oy davom etadi</div>
                                            </div>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-calculator"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">1C Buxgalteriya</div>
                                                <div class="item-desc">3 oy davom etadi</div>
                                            </div>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-robot"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">Robototexnika</div>
                                                <div class="item-desc">3 oy davom etadi</div>
                                            </div>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-book-open-reader"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">IT English - Ingliz tili</div>
                                                <div class="item-desc">6 oydan oshiqroq davom etadi</div>
                                            </div>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-square-root-variable"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">Matematika</div>
                                                <div class="item-desc">6 oydan oshiqroq davom etadi</div>
                                            </div>
                                        </a>
                                    </div>
                                </transition>
                            </div>

                            <!-- Xizmatlar Dropdown -->
                            <div class="nav-item dropdown" @mouseenter="showDropdown('xizmatlar')" @mouseleave="hideDropdown('xizmatlar')">
                                <button class="nav-link">
                                    Xizmatlar
                                    <svg class="dropdown-icon" :class="{ 'rotate': activeDropdown === 'xizmatlar' }" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                                    </svg>
                                </button>
                                <transition name="dropdown">
                                    <div v-if="activeDropdown === 'xizmatlar'" class="dropdown-menu">
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-pen-ruler"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">Grafik dizaynerlik ishlari</div>
                                                <div class="item-desc">Logo, Vizitka, Post, ...</div>
                                            </div>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-code"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">Websayt tayyorlash</div>
                                                <div class="item-desc">Zamonaviy yechimga ega websaytlar yaratish</div>
                                            </div>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-store"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">SMM xizmatlar</div>
                                                <div class="item-desc">Biznesingizni bir qadam oldinga olib chiqish</div>
                                            </div>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-globe"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">Online xizmatlar</div>
                                                <div class="item-desc">Ijtimoiy tarmoq orqali qilinadigan ishlar</div>
                                            </div>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-wrench"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">Kompyuterni tamirlash</div>
                                                <div class="item-desc">OS, Driverlar o'rnatish va boshqalar</div>
                                            </div>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-user-astronaut"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">Telegram Bot</div>
                                                <div class="item-desc">Telegram bot va mini-applar yaratish</div>
                                            </div>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <div class="item-icon">
                                                <i class="fa-solid fa-laptop"></i>
                                            </div>
                                            <div>
                                                <div class="item-title">Kompytuer sotuvi</div>
                                                <div class="item-desc">Arzon narxda kompyuter va noutbuk sotuvi</div>
                                            </div>
                                        </a>
                                    </div>
                                </transition>
                            </div>
                        </div>

                        <!-- Right Section -->
                        <div class="nav-actions">
                            <a href="certificates.html">
                                <button class="cert-btn">
                                    <i class="cert-icon fas fa-award" style="transform: translateY(3px);"></i>
                                    Sertifikatlar
                                </button>
                            </a>

                            <a href="tel:+998957781190" class="phone-btn">
                                <svg class="phone-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"/>
                                </svg>
                                +998 95 778 11 90
                            </a>
                        </div>

                        <!-- Mobile Menu Toggle -->
                        <button class="mobile-toggle" @click="toggleMobileMenu" :class="{ 'active': mobileMenuOpen }">
                            <span></span>
                            <span></span>
                            <span></span>
                        </button>
                    </div>

                    <!-- Mobile Menu -->
                    <transition name="mobile-menu">
                        <div v-if="mobileMenuOpen" class="mobile-menu">
                            <div class="mobile-item">
                                <button @click="toggleMobileDropdown('kurslar')" class="mobile-link">
                                    Kurslar
                                    <svg class="mobile-dropdown-icon" :class="{ 'rotate': mobileDropdowns.kurslar }" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                                    </svg>
                                </button>
                                <transition name="mobile-dropdown">
                                    <div v-if="mobileDropdowns.kurslar" class="mobile-submenu">
                                        <a href="#" class="mobile-sublink">Kompytuer Savodxonligi</a>
                                        <a href="#" class="mobile-sublink">Malaka Oshirish (Soha xodimlari)</a>
                                        <a href="#" class="mobile-sublink">Foundation (ITga kirish)</a>
                                        <a href="#" class="mobile-sublink">Front-End Dasturlash</a>
                                        <a href="#" class="mobile-sublink">Grafik va Web dizayn</a>
                                        <a href="#" class="mobile-sublink">3D Modeling (3D Max, AutoCad)</a>
                                        <a href="#" class="mobile-sublink">SMM + Mobilografiya</a>
                                        <a href="#" class="mobile-sublink">1C Buxgalteriya</a>
                                        <a href="#" class="mobile-sublink">Robototexnika</a>
                                        <a href="#" class="mobile-sublink">IT English - Ingliz tili</a>
                                        <a href="#" class="mobile-sublink">Matematika</a>
                                    </div>
                                </transition>
                            </div>

                            <div class="mobile-item">
                                <button @click="toggleMobileDropdown('xizmatlar')" class="mobile-link">
                                    Xizmatlar
                                    <svg class="mobile-dropdown-icon" :class="{ 'rotate': mobileDropdowns.xizmatlar }" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                                    </svg>
                                </button>
                                <transition name="mobile-dropdown">
                                    <div v-if="mobileDropdowns.xizmatlar" class="mobile-submenu">
                                        <a href="#" class="mobile-sublink">Grafik dizaynerlik ishlari</a>
                                        <a href="#" class="mobile-sublink">Websayt tayyorlash</a>
                                        <a href="#" class="mobile-sublink">SMM xizmatlar</a>
                                        <a href="#" class="mobile-sublink">Online xizmatlar</a>
                                        <a href="#" class="mobile-sublink">Компyuterni tamirlash</a>
                                        <a href="#" class="mobile-sublink">Telegram Bot</a>
                                        <a href="#" class="mobile-sublink">Kompytuer sotuvi</a>
                                    </div>
                                </transition>
                            </div>

                            <div class="mobile-actions">
                                <a href="certificates.html" class="mobile-cert-btn">Sertifikatlar</a>
                                <a href="tel:+998957781190" class="mobile-phone-btn">+998 95 778 11 90</a>
                            </div>
                        </div>
                    </transition>
                </nav>
            `,
        data() {
            return {
                activeDropdown: null,
                mobileMenuOpen: false,
                mobileDropdowns: {
                    kurslar: false,
                    xizmatlar: false
                }
            }
        },
        methods: {
            showDropdown(dropdown) {
                this.activeDropdown = dropdown;
            },
            hideDropdown(dropdown) {
                if (this.activeDropdown === dropdown) {
                    this.activeDropdown = null;
                }
            },
            toggleMobileMenu() {
                this.mobileMenuOpen = !this.mobileMenuOpen;
            },
            toggleMobileDropdown(dropdown) {
                this.mobileDropdowns[dropdown] = !this.mobileDropdowns[dropdown];
            }
        }
    }

    // Main Vue app
   
    createApp({
        components: {
            'app-navbar': AppNavbar
        },
        data() {
            return {
                searchQuery: '',
                certificates: [],
                loading: false,
                selectedCertificate: null,
                formData: {
                    familiya: '',
                    ism: '',
                    idRaqami: ''
                }
            }
        },
        methods: {
            async quickSearch() {
                if (!this.searchQuery.trim()) return;
                await this.fetchCertificates(this.searchQuery);
            },

            async searchCertificates() {
                const query = `${this.formData.familiya} ${this.formData.ism} ${this.formData.idRaqami}`.trim();
                if (!query) return;
                await this.fetchCertificates(query);
            },

            async fetchCertificates(query) {
                this.loading = true;
                try {
                    // Mock data для демки
                    await new Promise(resolve => setTimeout(resolve, 1500));

                    const mockCertificates = [
                        {
                            id: 'DIC000001',
                            fullName: 'AZAMOV ISMOIL',
                            course: 'Computer literacy',
                            startDate: '18 th October',
                            endDate: '18 th December',
                            year: '2023',
                            hours: '48',
                            issueDate: '03.02.2024',
                            director: 'Urol Khabibov'
                        },
                        {
                            id: 'DIC000002',
                            fullName: 'KARIMOV AZIZ',
                            course: 'Full Stack Development',
                            startDate: '1 st March',
                            endDate: '1 st June',
                            year: '2024',
                            hours: '120',
                            issueDate: '15.06.2024',
                            director: 'Urol Khabibov'
                        },
                        {
                            id: 'DIC000003',
                            fullName: 'RAVSHANOV ISLOMBEK',
                            course: 'Full Stack Development',
                            startDate: '1 st March',
                            endDate: '4 st July',
                            year: '2023',
                            hours: '140',
                            issueDate: '04.07.2023',
                            director: 'Urol Khabibov'
                        }
                    ];

                    this.certificates = mockCertificates.filter(cert =>
                        cert.fullName.toLowerCase().includes(query.toLowerCase()) ||
                        cert.id.toLowerCase().includes(query.toLowerCase()) ||
                        cert.course.toLowerCase().includes(query.toLowerCase())
                    );

                    if (this.certificates.length > 0) {
                        this.selectedCertificate = this.certificates[0];
                    }

                } catch (error) {
                    console.error('Error fetching certificates:', error);
                } finally {
                    this.loading = false;
                }
            },

            selectCertificate(cert) {
                this.selectedCertificate = cert;
            },

            async downloadCertificate(cert) {
                try {
                    alert(`PDF yuklab olinmoqda: ${cert.id} - ${cert.fullName}`);
                } catch (error) {
                    console.error('Error downloading certificate:', error);
                    alert('PDF yuklab olishda xatolik yuz berdi');
                }
            },

            viewFullscreen(cert) {
                alert(`To'liq ko'rish: ${cert.fullName} - ${cert.id}`);
            }
        },
        mounted() {
            // Инициализация Lucide иконок
            lucide.createIcons();
        }
    }).mount('#app');
</script>
</body>
</html>